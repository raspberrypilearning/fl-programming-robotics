<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Fl progrobot w3 step04 - Robotics</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Robotics</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Building a mobile robot <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step01/" class="dropdown-item">1</a>
</li>
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step02.md" class="dropdown-item">2</a>
</li>
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step03/" class="dropdown-item">3</a>
</li>
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step04/" class="dropdown-item">4</a>
</li>
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step05/" class="dropdown-item">5</a>
</li>
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step06/" class="dropdown-item">6</a>
</li>
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step07/" class="dropdown-item">7</a>
</li>
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step08/" class="dropdown-item">8</a>
</li>
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step09/" class="dropdown-item">9</a>
</li>
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step10/" class="dropdown-item">10</a>
</li>
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step11/" class="dropdown-item">11</a>
</li>
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step12/" class="dropdown-item">12</a>
</li>
                                    
<li>
    <a href="../../week-1/fl-progrobot-w1-step13/" class="dropdown-item">13</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#line-sensors-and-how-to-use-them" class="nav-link">Line sensors and how to use them</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<p>[comment]: # (
Is this step open? Y/N
If so, short description of this step:
Related links:
Related files:
)</p>
<h2 id="line-sensors-and-how-to-use-them">Line sensors and how to use them</h2>
<p>In this step you will investigate how a line sensor operates and how it detects a line. I will be using the TCRT5000 IR sensor as my example, but the learning can apply to other line sensors as well. This knowledge will help you design and program a line-following algorithm later in the week.</p>
<h3 id="infrared-ir-detection">Infrared (IR) detection</h3>
<p>Line sensors detect the presence of a black line by emitting infrared (IR) light and detecting the light levels that return to the sensor. They do this using two components: an emitter and a light sensor (receiver).</p>
<p>You can see an example TCRT5000 line sensor below. Your components may be laid out differently (all on one side, for example), but the components I will discuss will be present on most line sensors.</p>
<p><img alt="An illustration of both sides of a line sensor. The top shows three pins and a potentiometer (blue box with white dial). The bottom side shows a black and red IR emitter and receiver as well as three pins with labels VCC, GND, &amp; DO." src="https://rpf-futurelearn.s3-eu-west-1.amazonaws.com/Robotics+-+Robot+Buggy/Illustration/36-3_4_TCRT_Sensor_Diagram.png" /></p>
<p>On the top right-hand side of the image you can see two circular components that look a bit like LEDs. The blue one is the IR emitter and the black one is the receiver. These devices also have a component called a potentiometer, which adjusts the device's threshold. This is done by using a screwdriver to turn the white dial that looks like a cross on the left-hand side of the image.</p>
<p>The device will emit IR light, and the sensor will capture the light level that is reflected from the surface underneath it. Some line sensors have two types of output: analogue and digital. The analogue output is not always present, but will return a constant reading of the light levels the sensor is detecting. Analogue signals need to be converted to digital before a Raspberry Pi can use them. The digital output results from a comparison of the light levels against a threshold level that is adjusted by turning the potentiometer. If the sensor does not receive enough light to surpass the threshold value, the digital output will be high (1). If enough light is received and the threshold value is surpassed, the pin will be set to low (0).</p>
<p>The set-up of these devices may seem a bit topsy-turvy at first, but it makes more sense when you consider that the sensor is designed to detect black lines. A black line will not reflect as much light, so the output will be set to <strong>high (1)</strong> when a black surface is underneath.</p>
<h3 id="how-to-use-a-line-sensor">How to use a line sensor</h3>
<p>Now that you know a bit more how a line sensor works, you should learn how to use one.</p>
<p>The line sensor also has an array of pins, some of which you will have to connect to the Raspberry Pi you are using:</p>
<ul>
<li><code>VCC</code> needs to be connected to a voltage in between 3.3 and 5V, to power the device</li>
<li><code>GND</code> is the ground pin that is required to complete the circuit</li>
<li><code>AO</code> is the analogue output (this will not work with the Raspberry Pi)</li>
<li><code>DO</code> is the digital output pin (this will work with the Raspberry Pi)</li>
</ul>
<p>The VCC pin here can take a range of voltages, so potential dividers are not necessary. It is also worth noting that the <code>AO</code> pin does not feature on all line sensors.</p>
<h3 id="two-sensors-are-better-than-one">Two sensors are better than one</h3>
<p>You can create a line-following robot with only one sensor, as this is enough to detect a line underneath the robot. If the robot strays from the line, though, it is very difficult to work out which way it needs to turn to find the line again.</p>
<p>To solve this problem, you can use more than one sensor. If you add a second sensor, and spread the sensors out evenly on either side of the caster wheel, the information gathered from the sensors will allow your robot to find the line again.</p>
<p>If the line is in the centre of the robot, both sensors will return a 0 from their digital pins, as they are both over the white background.</p>
<p><img alt="A robot buggy with a black line under the centre of it. The two line sensors on the buggy are either side of the line, and are both outputting 0." src="https://rpf-futurelearn.s3-eu-west-1.amazonaws.com/Robotics+-+Robot+Buggy/Illustration/35-3_4-line-sensors-not-detecting-line.png" /></p>
<p>However, if the robot moves to the right, the left sensor will eventually cross onto the line, changing its output to a 1. When this happens, the robot should correct its course and turn left. Once the sensor returns to a 0 value, we know that the line is back in the middle of the robot.</p>
<p>The same applies when the robot turns too far left; the right sensor will move over the line and change its reading. The robot should then turn right to the right to correct itself.</p>
<p><img alt="Top down animation of a robot buggy following a black line. The buggy moves forwards and turns right if the right sensor detects the line, and turns left if the left sensor detects the line." src="https://rpf-futurelearn.s3-eu-west-1.amazonaws.com/Robotics+-+Robot+Buggy/Animation/3_4-line-following-buggy-animation.gif" /></p>
<h3 id="discussion">Discussion</h3>
<p>You can use even more than two sensors if you want; some designs use three or four.</p>
<p>How would a third sensor in the centre of the robot impact the way it moves?</p>
<p>What difference do the extra sensors make?</p>
<p>Share your thoughts in the comments section.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
