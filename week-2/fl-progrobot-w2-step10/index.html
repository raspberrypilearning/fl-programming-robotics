<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Fl progrobot w2 step10 - Robotics</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Fl progrobot w2 step10";
    var mkdocs_page_input_path = "week-2\\fl-progrobot-w2-step10.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Robotics</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Building a mobile robot</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step01/">Welcome to the course</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step02/">Meet the team and your fellow learners</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step03/">The world of robotics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step04/">4</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step05/">5</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step06/">6</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step07/">7</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step08/">8</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step09/">9</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step10/">10</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step11/">11</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step12/">12</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../week-1/fl-progrobot-w1-step13/">13</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Robotics</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>Fl progrobot w2 step10</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>[comment]: # (
Is this step open? Y/N
If so, short description of this step:
Related links:
Related files:
)</p>
<h2 id="challenge-improving-the-obstacle-avoidance-program">Challenge: Improving the obstacle-avoidance program</h2>
<p>There are a number of modifications that will improve your robot's ability to avoid objects autonomously. Most of these require changes to the program from the previous step.</p>
<p>First, I suggest making a copy of your program before modifying any of the code, in case something you try doesn't work out.</p>
<h3 id="changing-some-of-the-values">Changing some of the values</h3>
<p>Begin by experimenting with different distance thresholds and sleep values, to see how that affects the performance of the robot.</p>
<p>For example, the distance threshold of 0.2 metres used in the previous program may need to be increased slightly if your robot does not start to turn out of the way of an obstacle in time.</p>
<p>You can also change the sleep value of 0.5 seconds, so that the robot continues turning for more or less time once the threshold value has been met.</p>
<h3 id="changing-the-robots-behaviour">Changing the robot's behaviour</h3>
<p>Currently, the robot turns left for a set amount of time whenever an object is detected as being too close. </p>
<p>This predictable behaviour has the potential to cause issues. One problem is that the robot might get stuck in an obstacle avoidance loop when turning by a fixed amount each time. In this situation, the robot keeps detecting the same obstacles over and over again, seemingly with no way to escape!</p>
<p>There are a number of changes you can make to the robot's behaviour.</p>
<h4 id="two-steps-forward-one-step-back">Two steps forward, one step back</h4>
<p>One modification you can make is to instruct the robot to move backwards for a period of time before turning to avoid an object. This will give your robot a chance to avoid obstacles if it has found itself in a dead end.</p>
<p>Another solution is to introduce random aspects into the robot's movements.</p>
<h4 id="randomising-the-amount-of-time-the-robot-turns">Randomising the amount of time the robot turns</h4>
<p>Rather than turning left for a set amount of time, you can instruct the program to generate a random number of seconds within a certain range of values.</p>
<p>To add this functionality, you will need to import the <code>random</code> library into your Python program. Use the function <code>random.uniform(a, b)</code> to return a random floating-point number, where <code>a</code> is the lowest value and <code>b</code> is the highest value.</p>
<h4 id="choosing-a-random-direction">Choosing a random direction</h4>
<p>Another modification to the robot's behaviour is to allow the program to choose a random direction to turn once an obstacle has been detected. Instead of always turning left, the robot could be instructed to turn <em>either</em> left or right. How might you code this?</p>
<h3 id="limitations-of-the-uds">Limitations of the UDS</h3>
<p>There are some limitations it is important to be aware of when using a UDS. Finding workarounds to these problems will ensure that your program is robust.</p>
<h4 id="objects-that-are-too-close">Objects that are too close</h4>
<p>You may have noticed that an object that is really close to the UDS returns a much larger distance than expected. This occurs if an object is closer than the minimum distance a UDS can detect accurately; for the HC-SR04 and HC-SR04P models, the detection distance is from about 2 cm to 500 cm.</p>
<p>Take a look at the distance values that are output when an object is very close to the UDS and see if you can find a solution within the program to pick up these objects.</p>
<h4 id="objects-that-are-to-the-side">Objects that are to the side</h4>
<p>Another issue that your robot may run into is that, depending on the width of your robot, the UDS won't detect objects on either side of it that are going to be in the way.</p>
<p>One solution to this would be to add an extra UDS to the front of the robot, so that there is one on each side of the chassis. This modification would also require the program to be adapted so that it is able to work with two UDSs.</p>
<h3 id="what-improvements-will-you-make">What improvements will you make?</h3>
<p>Improve your program using one of the ideas in this step:</p>
<ul>
<li>Change the distance threshold and/or sleep values</li>
<li>Once your robot has detected an obstacle:<ul>
<li>Instruct it to move backwards before turning left</li>
<li>Generate a random number of seconds for the robot to turn for</li>
<li>Get the program to choose a random direction for the robot to turn in</li>
</ul>
</li>
<li>Find a solution for detecting objects that are closer than the minimum detection distance of your UDS</li>
<li>Attach another UDS to the chassis and modify your program so it works with two UDSs</li>
</ul>
<h3 id="discussion">Discussion</h3>
<p>Can you think of any other improvements that you could make?</p>
<p>In the comments below, share the changes you made and add a link to your new code using <a href="https://pastebin.com/">Pastebin</a>.</p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
